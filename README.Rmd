---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  dpi = 600,
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  warning = FALSE,
  message = FALSE 
)
```

# nzffdr <img src='man/figures/nzffdr_hex.png' align="right" height="150" /></a>


<!-- badges: start -->
<!-- badges: end -->


The purpose of this package is allow for direct access to the NZ Freshwater Fish Database ([NZFFD](https://nzffdms.niwa.co.nz/search)) from R and additional functions for cleaning imported data and adding missing data. 

For a detailed guide to using the package see the [help page](https://flee598.github.io/nzffdr/).

### Installation
```{r, warning = FALSE}
# devtools::install_github("flee598/nzffdr")
library(nzffdr)
```

### Import data from the NZFFD 

This function requires an internet connection to query the NZFFD database. 

```{r}
# import all records between 2000 and 2010
dat <- nzffd_import(catchment = "", river = "", location = "", 
  fish_method = "", species = "", starts = 2000, ends = 2010)
head(dat)

# To import the entire NZFF database:
# dat <- nzffd_import()
```

### Cleaning data

```{r}
dat2 <- nzffd_clean(dat)
head(dat2)
```

### Filling gaps

```{r}
dat3 <- nzffd_fill(dat2, alt = TRUE, maps = TRUE)
head(dat3)
```

  
### Adding River Environment Classification data

This function requires an internet connection to query the REC database. 

```{r}
dat4 <- nzffd_add(dat3)
head(dat4)
```

You should now have a cleaned up dataframe of NZFFD records available to you, optionally along with some missing data and associated REC data.
